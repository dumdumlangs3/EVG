# render.yaml
services:
  - name: EVG
    type: web
    env: php
    plan: free
    buildCommand: "composer install && php artisan key:generate && php artisan migrate"
    startCommand: "php artisan serve --host 0.0.0.0 --port 10000"
    envVars:
      APP_ENV: "production"
      APP_DEBUG: "false"
      APP_KEY: "${APP_KEY}"
      APP_URL: "https://evg.onrender.com"
      LOG_CHANNEL: "stack"
      LOG_LEVEL: "debug"
      DB_CONNECTION: "mysql"
      DB_HOST: "${DB_HOST}"
      DB_PORT: "${DB_PORT}"
      DB_DATABASE: "${DB_DATABASE}"
      DB_USERNAME: "${DB_USERNAME}"
      DB_PASSWORD: "${DB_PASSWORD}"
    healthCheckPath: "/"
    autoDeploy: true
    regions: ["oregon"]  # Adjust based on your preferred region

databases:
  - name: evg-db
    plan: free
    engine: mysql
    version: 8
    region: oregon

